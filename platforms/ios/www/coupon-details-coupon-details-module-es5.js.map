{"version":3,"sources":["webpack:///src/app/coupon-details/coupon-details.page.html","webpack:///src/app/coupon-details/coupon-details-routing.module.ts","webpack:///src/app/coupon-details/coupon-details.module.ts","webpack:///src/app/coupon-details/coupon-details.page.scss","webpack:///src/app/coupon-details/coupon-details.page.ts"],"names":["routes","path","component","CouponDetailsPageRoutingModule","imports","forChild","exports","CouponDetailsPageModule","declarations","CouponDetailsPage","apiServiceService","route","coupon_id","snapshot","paramMap","get","userDetails","JSON","parse","localStorage","getItem","generateCouponPurchaseOrderData","user_id","user_details","generateCouponPurchaseOrder","subscribe","result","console","log","options","description","order_id","currency","key","amount","name","prefill","email","contact","successCallback","success","alert","razorpay_payment_id","cancelCallback","error","code","RazorpayCheckout","on","open","selector","template"],"mappings":"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","file":"coupon-details-coupon-details-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"featured\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/bid-plans\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Coupon details</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div></div>\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col class=\\\"ion-text-justify\\\">\\r\\n        <p>Valid Only for 24 hrs</p>\\r\\n        <p>Coupon Price depends upon product category</p>\\r\\n      <p>Can be used only once for a product, connot be used for other product. But once used for a product, the product can be bid any no of times</p>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n<ion-footer no-shadow>\\r\\n  <ion-toolbar color=\\\"featured\\\" position=\\\"bottom\\\">\\r\\n    <ion-button  color=\\\"custom-button\\\" slot=\\\"end\\\" (click)=\\\"payWithRazorpay()\\\">Purchase Coupon</ion-button>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CouponDetailsPage } from './coupon-details.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CouponDetailsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CouponDetailsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CouponDetailsPageRoutingModule } from './coupon-details-routing.module';\r\n\r\nimport { CouponDetailsPage } from './coupon-details.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CouponDetailsPageRoutingModule\r\n  ],\r\n  declarations: [CouponDetailsPage]\r\n})\r\nexport class CouponDetailsPageModule {}\r\n","export default \"p {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY291cG9uLWRldGFpbHMvY291cG9uLWRldGFpbHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQUNKIiwiZmlsZSI6InNyYy9hcHAvY291cG9uLWRldGFpbHMvY291cG9uLWRldGFpbHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ApiServiceService } from '../api-service.service';\r\nimport { AnonymousSubject } from 'rxjs/internal/Subject';\r\n\r\ndeclare var RazorpayCheckout:any;\r\n\r\n@Component({\r\n  selector: 'app-coupon-details',\r\n  templateUrl: './coupon-details.page.html',\r\n  styleUrls: ['./coupon-details.page.scss'],\r\n})\r\n\r\nexport class CouponDetailsPage implements OnInit {\r\n  \r\n  userDetails: any;\r\n  coupon_id: any;\r\n\r\n  constructor(\r\n    private apiServiceService:ApiServiceService,\r\n    private route: ActivatedRoute) {\r\n      this.coupon_id = this.route.snapshot.paramMap.get('coupon_id'); \r\n     }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  payWithRazorpay() {\r\n    this.userDetails = JSON.parse(localStorage.getItem('userData'));\r\n    let generateCouponPurchaseOrderData = {\r\n      coupon_id: this.coupon_id,\r\n      user_id: this.userDetails.user_details[0].user_id\r\n    }\r\n    this.apiServiceService.generateCouponPurchaseOrder(generateCouponPurchaseOrderData).subscribe((result:any)=>{\r\n      console.log(result);\r\n      var options = {\r\n        description: result.description,\r\n        order_id: result.order_id,\r\n        currency: result.currency,\r\n        key:result.key,\r\n        amount:result.amount,\r\n        name: 'Bidmoz',\r\n        prefill:{\r\n          email: 'gagann@gmail.com',\r\n          contact: '9999999999',\r\n          name: 'Gagan'\r\n        }\r\n      }\r\n      var successCallback = function(success) {\r\n        alert('payment_id: ' + success.razorpay_payment_id)\r\n        // var orderId = success.razorpay_order_id\r\n        // var signature = success.razorpay_signature\r\n      }\r\n      var cancelCallback = function(error) {\r\n        alert(error.description + ' (Error '+error.code+')')\r\n      }\r\n      RazorpayCheckout.on('payment.success', successCallback)\r\n      RazorpayCheckout.on('payment.cancel', cancelCallback)\r\n      RazorpayCheckout.open(options,successCallback, cancelCallback)\r\n      // console.log(this.RazorpayCheckout);\r\n    })\r\n\r\n  }\r\n\r\n}\r\n"]}